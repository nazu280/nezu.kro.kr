<html>
<title>카카오톡 송금하기 낚시</title>
<meta property="og:title" content="카카오톡 송금하기 낚시" />
<meta property="og:description" content="원하는 가격으로 송금하기 낚시를 해보세요!" />
<body>
    <a id="kakao-link-btn" href="javascript:kakaoShare1()">
    	<img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" width="120" height="120">
    </a><hr>
    <form>
        <textarea placeholder="금액" rows="10" id="title" name="title" onkeydown='return onlyNumber(event)' onkeyup='removeChar(event)'></textarea>
        <textarea placeholder="기타" rows="10" id="title2" name="title2"></textarea>
        <input type="radio" name="radio" value="1" onClick="javascript_:active();" checked>금액으로 설정 (예: [값]원을 받으세요.)
        <input type="radio" name="radio" value="2" onClick="javascript_:disable();">기타로 설정 (예: [값] 받으세요.)
    </form>
    <h3>낚시할 금액을 적고, 카카오톡 아이콘을 눌러주세요</h3>
    <p>친구에게 당하셨다구요? 나만 당할 순 없지! 다른 친구를 낚아보세요!</p>
</body>

<!-- kakao sdk 호출 -->
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>

<script type="text/javascript">

 var tit1 = document.getElementById('title');
 var tit2 = document.getElementById('title2');
 var t1Result = tit1.getAttribute("checked")
 var t2Result = tit2.getAttribute("checked")

 const option = {
  maximumFractionDigits: 4
 };
 const t1 =  
    tit1.value.toLocaleString('ko-KR', option);
 const t2 =
    t1 + "원을 받으세요."
 const t3 =  
    tit2.value + " 받으세요."
 
  // SDK를 초기화 합니다. 사용할 앱의 JavaScript 키를 설정해 주세요.
  Kakao.init('5ee49c3e7232211454971e75815e8032');

  // SDK 초기화 여부를 판단합니다.
  console.log(Kakao.isInitialized());
 
  function active(){
    document.form.title.disabled = false;
    document.form.title2.disabled = true;
  }
  function disable(){
    document.form.title.disabled = true;
    document.form.title2.disabled = false;
  }
  
  function kakaoShare() {
    if(t1Result == true) {
        Kakao.Link.sendCustom({
            templateId: 65599,
            templateArgs: {
                t: t2
                }
        },'custom');
    }
    if(t2Result == true) {
        Kakao.Link.sendCustom({
            templateId: 65599,
            templateArgs: {
                t: t3
                }
        },'custom');
    }
 
function onlyNumber(event){
    event = event || window.event;
    var keyID = (event.which) ? event.which : event.keyCode;
    if ( (keyID >= 48 && keyID <= 57) || (keyID >= 96 && keyID <= 105) || keyID == 8 || keyID == 46 || keyID == 37 || keyID == 39 ) 
        return;
    else
        return false;
}
 
function removeChar(event) {
    event = event || window.event;
    var keyID = (event.which) ? event.which : event.keyCode;
    if ( keyID == 8 || keyID == 46 || keyID == 37 || keyID == 39 ) 
        return;
    else
        event.target.value = event.target.value.replace(/[^0-9]/g, "");
}
</script>
